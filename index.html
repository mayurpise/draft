<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Draft: Context-Driven Development</title>
    <meta name="description" content="Draft: Context-Driven Development methodology. A Claude Code plugin for structured AI-assisted software development with specs, plans, and quality gates.">
    <meta name="author" content="mayurpise">
    <meta name="theme-color" content="#0a0a0b">
    <meta property="og:title" content="Draft: Context-Driven Development">
    <meta property="og:description" content="Measure twice, code once. A Claude Code plugin that enforces structured specs and plans before AI writes code.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://mayurpise.github.io/draft">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Draft: Context-Driven Development">
    <meta name="twitter:description" content="Measure twice, code once. A Claude Code plugin that enforces structured specs and plans before AI writes code.">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-F6X062B4B7"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-F6X062B4B7');
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Instrument+Serif:ital@0;1&family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0a0b;
            --bg-secondary: #111113;
            --bg-tertiary: #18181b;
            --accent-cyan: #22d3ee;
            --accent-amber: #fbbf24;
            --accent-rose: #fb7185;
            --accent-emerald: #34d399;
            --text-primary: #fafafa;
            --text-secondary: #a1a1aa;
            --text-muted: #71717a;
            --border: #27272a;
            --glow-cyan: rgba(34, 211, 238, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.7;
            overflow-x: hidden;
        }

        /* Noise texture overlay */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
            opacity: 0.03;
            pointer-events: none;
            z-index: 1000;
        }

        /* Header */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: 
                radial-gradient(ellipse at 30% 20%, var(--glow-cyan) 0%, transparent 50%),
                radial-gradient(ellipse at 70% 80%, rgba(251, 113, 133, 0.08) 0%, transparent 40%);
            animation: drift 20s ease-in-out infinite;
        }

        @keyframes drift {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            50% { transform: translate(-2%, 2%) rotate(1deg); }
        }

        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 900px;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 100px;
            font-size: 0.85rem;
            color: var(--accent-cyan);
            margin-bottom: 2rem;
            animation: fadeInUp 0.8s ease-out;
        }

        .badge::before {
            content: '';
            width: 6px;
            height: 6px;
            background: var(--accent-cyan);
            border-radius: 50%;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(0.8); }
        }

        h1 {
            font-family: 'Instrument Serif', serif;
            font-size: clamp(3.5rem, 10vw, 7rem);
            font-weight: 400;
            letter-spacing: -0.03em;
            line-height: 1;
            margin-bottom: 1.5rem;
            animation: fadeInUp 0.8s ease-out 0.1s both;
        }

        h1 span {
            font-style: italic;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-emerald));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .tagline {
            font-size: 1.5rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto 3rem;
            animation: fadeInUp 0.8s ease-out 0.2s both;
        }

        .tagline strong {
            color: var(--text-primary);
            font-weight: 500;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Scroll indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 3rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-muted);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            animation: fadeInUp 0.8s ease-out 0.5s both;
        }

        .scroll-indicator .arrow {
            width: 24px;
            height: 40px;
            border: 2px solid var(--border);
            border-radius: 12px;
            position: relative;
        }

        .scroll-indicator .arrow::before {
            content: '';
            position: absolute;
            top: 8px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 8px;
            background: var(--accent-cyan);
            border-radius: 2px;
            animation: scrollBounce 1.5s ease-in-out infinite;
        }

        @keyframes scrollBounce {
            0%, 100% { top: 8px; opacity: 1; }
            50% { top: 18px; opacity: 0.3; }
        }

        /* Main content */
        main {
            max-width: 800px;
            margin: 0 auto;
            padding: 4rem 2rem 8rem;
        }

        /* Section styling */
        section {
            margin-bottom: 6rem;
        }

        h2 {
            font-family: 'Instrument Serif', serif;
            font-size: 2.5rem;
            font-weight: 400;
            margin-bottom: 1.5rem;
            position: relative;
            display: inline-block;
        }

        h2::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-cyan), transparent);
            border-radius: 2px;
        }

        h3 {
            font-family: 'DM Sans', sans-serif;
            font-size: 1.25rem;
            font-weight: 600;
            margin: 2.5rem 0 1rem;
            color: var(--text-primary);
        }

        p {
            color: var(--text-secondary);
            margin-bottom: 1.25rem;
        }

        strong {
            color: var(--text-primary);
            font-weight: 500;
        }

        /* Flow diagram */
        .flow-diagram {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            padding: 3rem 2rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 16px;
            margin: 3rem 0;
            overflow-x: auto;
        }

        .flow-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
            text-align: center;
            min-width: 120px;
        }

        .flow-icon {
            width: 64px;
            height: 64px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 600;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .flow-step:hover .flow-icon {
            transform: translateY(-4px);
        }

        .flow-icon.context {
            background: linear-gradient(135deg, rgba(34, 211, 238, 0.2), rgba(34, 211, 238, 0.05));
            border: 1px solid rgba(34, 211, 238, 0.3);
            color: var(--accent-cyan);
        }

        .flow-icon.spec {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(251, 191, 36, 0.05));
            border: 1px solid rgba(251, 191, 36, 0.3);
            color: var(--accent-amber);
        }

        .flow-icon.implement {
            background: linear-gradient(135deg, rgba(52, 211, 153, 0.2), rgba(52, 211, 153, 0.05));
            border: 1px solid rgba(52, 211, 153, 0.3);
            color: var(--accent-emerald);
        }

        .flow-step:hover .flow-icon.context { box-shadow: 0 8px 32px rgba(34, 211, 238, 0.2); }
        .flow-step:hover .flow-icon.spec { box-shadow: 0 8px 32px rgba(251, 191, 36, 0.2); }
        .flow-step:hover .flow-icon.implement { box-shadow: 0 8px 32px rgba(52, 211, 153, 0.2); }

        .flow-label {
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        .flow-sublabel {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .flow-arrow {
            color: var(--text-muted);
            font-size: 1.5rem;
        }

        /* Problem cards */
        .problem-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .problem-card {
            padding: 1.5rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            transition: border-color 0.3s ease, transform 0.3s ease;
        }

        .problem-card:hover {
            border-color: var(--accent-rose);
            transform: translateY(-2px);
        }

        .problem-card .icon {
            font-size: 1.5rem;
            margin-bottom: 0.75rem;
        }

        .problem-card h4 {
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .problem-card p {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin: 0;
        }

        /* Constraint hierarchy */
        .hierarchy {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .hierarchy-level {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid var(--border);
        }

        .hierarchy-level:last-child {
            border-bottom: none;
        }

        .hierarchy-level .num {
            width: 32px;
            height: 32px;
            background: var(--bg-tertiary);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            color: var(--accent-cyan);
            flex-shrink: 0;
        }

        .hierarchy-level .file {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            color: var(--accent-amber);
            min-width: 180px;
        }

        .hierarchy-level .desc {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .hierarchy-level .arrow-down {
            position: absolute;
            left: 15px;
            bottom: -12px;
            color: var(--text-muted);
        }

        /* Comparison tables */
        .comparison {
            margin: 2rem 0;
            overflow: hidden;
            border-radius: 12px;
            border: 1px solid var(--border);
        }

        .comparison-header {
            display: grid;
            grid-template-columns: 1fr 1fr;
            background: var(--bg-tertiary);
        }

        .comparison-header > div {
            padding: 1rem 1.5rem;
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .comparison-header > div:first-child {
            border-right: 1px solid var(--border);
            color: var(--accent-rose);
        }

        .comparison-header > div:last-child {
            color: var(--accent-emerald);
        }

        .comparison-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            border-top: 1px solid var(--border);
        }

        .comparison-row > div {
            padding: 1rem 1.5rem;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .comparison-row > div:first-child {
            border-right: 1px solid var(--border);
            background: rgba(251, 113, 133, 0.03);
        }

        .comparison-row > div:last-child {
            background: rgba(52, 211, 153, 0.03);
        }

        /* Code blocks */
        .code-block {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            overflow: hidden;
            margin: 1.5rem 0;
        }

        .code-header {
            padding: 0.75rem 1rem;
            background: var(--bg-tertiary);
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .code-header .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .code-header .dot.red { background: #ef4444; }
        .code-header .dot.yellow { background: #eab308; }
        .code-header .dot.green { background: #22c55e; }

        .code-header .filename {
            margin-left: auto;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        pre {
            padding: 1.5rem;
            overflow-x: auto;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.6;
        }

        pre code {
            color: var(--text-secondary);
        }

        .code-comment { color: var(--text-muted); }
        .code-keyword { color: var(--accent-rose); }
        .code-string { color: var(--accent-emerald); }
        .code-file { color: var(--accent-amber); }

        /* Document cards */
        .doc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .doc-card {
            padding: 1.25rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .doc-card:hover {
            border-color: var(--accent-cyan);
            transform: translateY(-2px);
            box-shadow: 0 8px 32px rgba(34, 211, 238, 0.1);
        }

        .doc-card .icon {
            width: 40px;
            height: 40px;
            background: var(--bg-tertiary);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .doc-card .name {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            color: var(--accent-amber);
            margin-bottom: 0.5rem;
        }

        .doc-card .purpose {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin: 0;
        }

        /* Status markers */
        .status-list {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin: 2rem 0;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1.25rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 100px;
            font-size: 0.9rem;
        }

        .status-marker {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .status-marker.pending { color: var(--text-muted); }
        .status-marker.progress { color: var(--accent-amber); }
        .status-marker.complete { color: var(--accent-emerald); }
        .status-marker.blocked { color: var(--accent-rose); }

        /* TDD workflow */
        .tdd-flow {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 2rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 16px;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .tdd-step {
            padding: 0.75rem 1.5rem;
            border-radius: 100px;
            font-weight: 600;
            font-size: 0.9rem;
            transition: transform 0.3s ease;
        }

        .tdd-step:hover {
            transform: scale(1.05);
        }

        .tdd-step.red {
            background: rgba(251, 113, 133, 0.15);
            border: 1px solid var(--accent-rose);
            color: var(--accent-rose);
        }

        .tdd-step.green {
            background: rgba(52, 211, 153, 0.15);
            border: 1px solid var(--accent-emerald);
            color: var(--accent-emerald);
        }

        .tdd-step.refactor {
            background: rgba(34, 211, 238, 0.15);
            border: 1px solid var(--accent-cyan);
            color: var(--accent-cyan);
        }

        .tdd-step.commit {
            background: rgba(251, 191, 36, 0.15);
            border: 1px solid var(--accent-amber);
            color: var(--accent-amber);
        }

        .tdd-arrow {
            color: var(--text-muted);
            font-size: 1.25rem;
        }

        /* Jira Integration */
        .jira-flow {
            display: flex;
            gap: 1rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .jira-step {
            flex: 1;
            min-width: 180px;
            display: flex;
            gap: 1rem;
            padding: 1.25rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            transition: border-color 0.3s ease;
        }

        .jira-step:hover {
            border-color: #6366f1;
        }

        .jira-num {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
            color: white;
            flex-shrink: 0;
        }

        .jira-content h4 {
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
            color: var(--text-primary);
        }

        .jira-content p {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin: 0;
        }

        .jira-content code {
            background: var(--bg-tertiary);
            padding: 0.15rem 0.4rem;
            border-radius: 4px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            color: var(--accent-amber);
        }

        .points-grid {
            display: flex;
            gap: 0.75rem;
            margin: 1rem 0;
            flex-wrap: wrap;
        }

        .points-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.6rem 1rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 0.85rem;
        }

        .points-item .tasks {
            color: var(--text-muted);
        }

        .points-item .points {
            font-weight: 600;
            color: #6366f1;
        }

        /* Architecture Mode */
        .arch-flow {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            padding: 2rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 16px;
            margin: 2rem 0;
        }

        .arch-flow-row {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .arch-flow-step {
            padding: 0.6rem 1.25rem;
            border-radius: 100px;
            font-size: 0.85rem;
            font-weight: 500;
            white-space: nowrap;
        }

        .arch-flow-step.story {
            background: rgba(251, 191, 36, 0.15);
            border: 1px solid rgba(251, 191, 36, 0.3);
            color: var(--accent-amber);
        }

        .arch-flow-step.exec-state {
            background: rgba(251, 113, 133, 0.15);
            border: 1px solid rgba(251, 113, 133, 0.3);
            color: var(--accent-rose);
        }

        .arch-flow-step.skeleton {
            background: rgba(34, 211, 238, 0.15);
            border: 1px solid rgba(34, 211, 238, 0.3);
            color: var(--accent-cyan);
        }

        .arch-flow-step.tdd-ref {
            background: rgba(52, 211, 153, 0.15);
            border: 1px solid rgba(52, 211, 153, 0.3);
            color: var(--accent-emerald);
        }

        .arch-flow-step.coverage {
            background: rgba(139, 92, 246, 0.15);
            border: 1px solid rgba(139, 92, 246, 0.3);
            color: #a78bfa;
        }

        .arch-flow-step.validate {
            background: rgba(34, 211, 238, 0.15);
            border: 1px solid rgba(34, 211, 238, 0.3);
            color: var(--accent-cyan);
        }

        .arch-flow-step.bughunt {
            background: rgba(251, 113, 133, 0.15);
            border: 1px solid rgba(251, 113, 133, 0.3);
            color: var(--accent-rose);
        }

        .arch-flow-checkpoint {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            color: var(--accent-rose);
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .arch-flow-arrow {
            color: var(--text-muted);
            font-size: 1.1rem;
        }

        .arch-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .arch-feature {
            padding: 1.5rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            transition: border-color 0.3s ease, transform 0.3s ease;
        }

        .arch-feature:hover {
            border-color: rgba(139, 92, 246, 0.5);
            transform: translateY(-2px);
        }

        .arch-feature .label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            color: #a78bfa;
            margin-bottom: 0.5rem;
        }

        .arch-feature h4 {
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .arch-feature p {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin: 0;
        }

        /* Principles */
        .principles {
            display: grid;
            gap: 1rem;
            margin: 2rem 0;
        }

        .principle {
            display: flex;
            gap: 1rem;
            padding: 1.5rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            transition: border-color 0.3s ease;
        }

        .principle:hover {
            border-color: var(--accent-cyan);
        }

        .principle-num {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-emerald));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--bg-primary);
            flex-shrink: 0;
        }

        .principle-content h4 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
            color: var(--text-primary);
        }

        .principle-content p {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin: 0;
        }

        /* Callout */
        .callout {
            padding: 1.5rem;
            background: linear-gradient(135deg, rgba(34, 211, 238, 0.08), rgba(52, 211, 153, 0.05));
            border: 1px solid rgba(34, 211, 238, 0.2);
            border-radius: 12px;
            margin: 2rem 0;
        }

        .callout-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: var(--accent-cyan);
        }

        .callout p {
            margin: 0;
            font-size: 0.95rem;
        }

        /* Economics table */
        .economics {
            margin: 2rem 0;
            overflow: hidden;
            border-radius: 12px;
            border: 1px solid var(--border);
        }

        .economics-row {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            border-bottom: 1px solid var(--border);
        }

        .economics-row:last-child {
            border-bottom: none;
        }

        .economics-row.header {
            background: var(--bg-tertiary);
            font-weight: 600;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .economics-row > div {
            padding: 1rem 1.25rem;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .economics-row > div:not(:last-child) {
            border-right: 1px solid var(--border);
        }

        .economics-row.header > div:nth-child(2) {
            color: var(--accent-rose);
        }

        .economics-row.header > div:nth-child(3) {
            color: var(--accent-emerald);
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 3rem 2rem;
            border-top: 1px solid var(--border);
            color: var(--text-muted);
            font-size: 0.85rem;
        }

        footer a {
            color: var(--accent-cyan);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        .footer-actions {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        .bmc-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.6rem 1.25rem;
            background: #FFDD00;
            color: #000;
            border-radius: 100px;
            font-weight: 600;
            font-size: 0.85rem;
            text-decoration: none;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .bmc-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(255, 221, 0, 0.3);
            text-decoration: none;
        }

        .share-row {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .share-label {
            font-size: 0.8rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .share-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            border-radius: 8px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            color: var(--text-secondary);
            text-decoration: none;
            transition: transform 0.2s ease, border-color 0.2s ease, color 0.2s ease;
        }

        .share-btn:hover {
            transform: translateY(-2px);
            text-decoration: none;
        }

        .share-btn.whatsapp:hover { border-color: #25D366; color: #25D366; }
        .share-btn.linkedin:hover { border-color: #0A66C2; color: #0A66C2; }
        .share-btn.reddit:hover { border-color: #FF4500; color: #FF4500; }
        .share-btn.x:hover { border-color: var(--text-primary); color: var(--text-primary); }

        .share-btn svg {
            width: 18px;
            height: 18px;
            fill: currentColor;
        }

        /* Responsive */
        @media (max-width: 640px) {
            h1 {
                font-size: 2.5rem;
            }

            .tagline {
                font-size: 1.1rem;
            }

            .flow-diagram {
                flex-direction: column;
                padding: 2rem 1.5rem;
            }

            .flow-arrow {
                transform: rotate(90deg);
            }

            .hierarchy-level {
                flex-wrap: wrap;
            }

            .hierarchy-level .file {
                min-width: auto;
                width: 100%;
            }

            .comparison-header,
            .comparison-row {
                grid-template-columns: 1fr;
            }

            .comparison-header > div:first-child,
            .comparison-row > div:first-child {
                border-right: none;
                border-bottom: 1px solid var(--border);
            }

            .tdd-flow {
                flex-direction: column;
            }

            .tdd-arrow {
                transform: rotate(90deg);
            }

            .arch-flow-row {
                flex-wrap: wrap;
            }

            .arch-flow-step {
                font-size: 0.8rem;
                padding: 0.5rem 1rem;
            }
        }
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--accent-cyan);
            color: var(--bg-primary);
            padding: 8px 16px;
            z-index: 100;
            font-family: 'DM Sans', sans-serif;
            font-weight: 600;
            text-decoration: none;
            transition: top 0.2s;
        }
        .skip-link:focus {
            top: 0;
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <!-- Hero Section -->
    <header class="hero">
        <div class="hero-content">
            <div class="badge">Context-Driven Development</div>
            <h1>Measure twice,<br><span>code once.</span></h1>
            <p class="tagline">Draft is a methodology that brings <strong>structure to AI-assisted development</strong> through documented context, specifications, and phased implementation.</p>
        </div>
        <div class="scroll-indicator">
            <div class="arrow"></div>
            <span>Explore</span>
        </div>
    </header>

    <main id="main-content">
        <!-- Installation Section -->
        <section id="install">
            <h2>Getting Started</h2>
            <p>Install Draft as a Claude Code plugin and initialize your project in under a minute. Also available for <strong>Cursor</strong>, <strong>GitHub Copilot</strong>, and <strong>Gemini</strong>.</p>

            <div class="code-block">
                <div class="code-header">
                    <div class="dot red"></div>
                    <div class="dot yellow"></div>
                    <div class="dot green"></div>
                    <span class="filename">installation</span>
                </div>
<pre><code><span class="code-comment"># Install the plugin</span>
<span class="code-keyword">/plugin marketplace add</span> <span class="code-string">mayurpise/draft</span>
<span class="code-keyword">/plugin install</span> <span class="code-string">draft</span>

<span class="code-comment"># Initialize your project (once)</span>
<span class="code-keyword">/draft:init</span>

<span class="code-comment"># Create a feature track</span>
<span class="code-keyword">/draft:new-track</span> <span class="code-string">"Add user authentication"</span>

<span class="code-comment"># Start implementing</span>
<span class="code-keyword">/draft:implement</span>

<span class="code-comment"># Verify test coverage (95%+ target)</span>
<span class="code-keyword">/draft:coverage</span>

<span class="code-comment"># Validate quality (architecture, security, performance)</span>
<span class="code-keyword">/draft:validate</span>

<span class="code-comment"># Hunt for bugs across the codebase</span>
<span class="code-keyword">/draft:bughunt</span>

<span class="code-comment"># Check progress</span>
<span class="code-keyword">/draft:status</span></code></pre>
            </div>

            <p>Prerequisites: <strong>Claude Code CLI</strong>, <strong>Git</strong>, and <strong>Node.js 18+</strong>.</p>

            <h3 style="margin-top: 2rem;">Other Editors</h3>
            <p><strong>Cursor</strong> â€” One command, no clone required:</p>
            <div class="code-block" style="margin-bottom: 1rem;">
                <div class="code-header">
                    <div class="dot red"></div>
                    <div class="dot yellow"></div>
                    <div class="dot green"></div>
                    <span class="filename">cursor setup</span>
                </div>
<pre><code><span class="code-keyword">curl</span> -o .cursorrules <span class="code-string">https://raw.githubusercontent.com/mayurpise/draft/main/integrations/cursor/.cursorrules</span></code></pre>
            </div>
            <p><strong>GitHub Copilot</strong> â€” One command, no clone required:</p>
            <div class="code-block">
                <div class="code-header">
                    <div class="dot red"></div>
                    <div class="dot yellow"></div>
                    <div class="dot green"></div>
                    <span class="filename">copilot setup</span>
                </div>
<pre><code><span class="code-keyword">mkdir</span> -p .github && <span class="code-keyword">curl</span> -o .github/copilot-instructions.md <span class="code-string">https://raw.githubusercontent.com/mayurpise/draft/main/integrations/copilot/.github/copilot-instructions.md</span></code></pre>
            </div>
            <p><strong>Gemini</strong> â€” One command, no clone required:</p>
            <div class="code-block">
                <div class="code-header">
                    <div class="dot red"></div>
                    <div class="dot yellow"></div>
                    <div class="dot green"></div>
                    <span class="filename">gemini setup</span>
                </div>
<pre><code><span class="code-keyword">curl</span> -o GEMINI.md <span class="code-string">https://raw.githubusercontent.com/mayurpise/draft/main/integrations/gemini/GEMINI.md</span></code></pre>
            </div>
        </section>

        <!-- Command Reference Section -->
        <section id="commands">
            <h2>Command Reference</h2>
            <p>Draft provides 13 slash commands for the full development lifecycle.</p>

            <div class="doc-grid">
                <div class="doc-card">
                    <div class="icon">ğŸ“‹</div>
                    <div class="name">/draft</div>
                    <p class="purpose">Overview and intent mapping</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸš€</div>
                    <div class="name">/draft:init</div>
                    <p class="purpose">Initialize project context (product, tech-stack, workflow, architecture)</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ”„</div>
                    <div class="name">/draft:init refresh</div>
                    <p class="purpose">Update context files (re-scan tech stack, architecture, workflow)</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ“</div>
                    <div class="name">/draft:new-track</div>
                    <p class="purpose">Create spec + plan for a feature or fix</p>
                </div>
                <div class="doc-card">
                    <div class="icon">âš¡</div>
                    <div class="name">/draft:implement</div>
                    <p class="purpose">Execute tasks with TDD workflow</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ“Š</div>
                    <div class="name">/draft:status</div>
                    <p class="purpose">Display progress overview</p>
                </div>
                <div class="doc-card">
                    <div class="icon">âª</div>
                    <div class="name">/draft:revert</div>
                    <p class="purpose">Git-aware rollback at any level</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ—ï¸</div>
                    <div class="name">/draft:decompose</div>
                    <p class="purpose">Module decomposition + dependency mapping</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ“ˆ</div>
                    <div class="name">/draft:coverage</div>
                    <p class="purpose">Code coverage report (target 95%+)</p>
                </div>
                <div class="doc-card">
                    <div class="icon">âœ…</div>
                    <div class="name">/draft:validate</div>
                    <p class="purpose">Systematic quality validation (architecture, security, performance)</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ”</div>
                    <div class="name">/draft:bughunt</div>
                    <p class="purpose">Exhaustive bug hunt across 12 dimensions (correctness, security, performance)</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ‘ï¸</div>
                    <div class="name">/draft:jira-preview</div>
                    <p class="purpose">Generate Jira export for review</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ«</div>
                    <div class="name">/draft:jira-create</div>
                    <p class="purpose">Push issues to Jira via MCP</p>
                </div>
            </div>
        </section>

        <!-- The Problem Section -->
        <section id="problem">
            <h2>The Core Problem</h2>
            <p>AI coding assistants are powerful but undirected. Without structure, they make assumptions, choose arbitrary approaches, and produce code that doesn't fit your codebase.</p>
            
            <div class="problem-grid">
                <div class="problem-card">
                    <div class="icon">ğŸ¯</div>
                    <h4>Assumption-Driven</h4>
                    <p>Guesses at requirements instead of asking clarifying questions</p>
                </div>
                <div class="problem-card">
                    <div class="icon">ğŸ”€</div>
                    <h4>Arbitrary Choices</h4>
                    <p>Picks random technical approaches without considering your stack</p>
                </div>
                <div class="problem-card">
                    <div class="icon">ğŸ§©</div>
                    <h4>Poor Fit</h4>
                    <p>Produces code that doesn't match existing patterns or conventions</p>
                </div>
                <div class="problem-card">
                    <div class="icon">â­ï¸</div>
                    <h4>No Checkpoints</h4>
                    <p>Skips verification and claims completion without proof</p>
                </div>
            </div>
        </section>

        <!-- Chat-Driven Development Problems -->
        <section id="chat-problems">
            <h2>Problems with Chat-Driven Development</h2>
            <p>Traditional AI chat interfaces have fundamental limitations that get worse over time.</p>

            <div class="problem-grid">
                <div class="problem-card">
                    <div class="icon">ğŸªŸ</div>
                    <h4>Context Window Fills Up</h4>
                    <p>Long chats exhaust token limits; AI loses early context and forgets decisions</p>
                </div>
                <div class="problem-card">
                    <div class="icon">ğŸŒ€</div>
                    <h4>Hallucination Increases</h4>
                    <p>More tokens in context means more confusion and worse decisions</p>
                </div>
                <div class="problem-card">
                    <div class="icon">ğŸ’¨</div>
                    <h4>No Persistent Memory</h4>
                    <p>Close the chat, lose the context. Every session starts from zero.</p>
                </div>
                <div class="problem-card">
                    <div class="icon">ğŸ”</div>
                    <h4>Unsearchable History</h4>
                    <p>"Where did I work on feature X?" â€” good luck finding it in chat logs</p>
                </div>
                <div class="problem-card">
                    <div class="icon">ğŸ‘»</div>
                    <h4>No Team Visibility</h4>
                    <p>Your chat history is invisible to colleagues. No review, no audit trail.</p>
                </div>
                <div class="problem-card">
                    <div class="icon">ğŸ”„</div>
                    <h4>Repeated Context Loading</h4>
                    <p>Every new session requires re-explaining the project from scratch</p>
                </div>
            </div>

            <h3>How Draft Solves This</h3>

            <div class="comparison">
                <div class="comparison-header">
                    <div>Chat-Driven</div>
                    <div>Draft Approach</div>
                </div>
                <div class="comparison-row">
                    <div>Context in ephemeral chat</div>
                    <div>File-based persistent memory</div>
                </div>
                <div class="comparison-row">
                    <div>No version history</div>
                    <div>Git-tracked specs with diffs and blame</div>
                </div>
                <div class="comparison-row">
                    <div>Loads entire project every session</div>
                    <div>Scoped context per track</div>
                </div>
                <div class="comparison-row">
                    <div>Unsearchable conversations</div>
                    <div>Grep-able specs and plans</div>
                </div>
                <div class="comparison-row">
                    <div>Invisible to teammates</div>
                    <div>PR-reviewable planning artifacts</div>
                </div>
            </div>
        </section>

        <!-- Core Workflow -->
        <section id="workflow">
            <h2>The Draft Workflow</h2>
            <p>Draft solves this through <strong>Context-Driven Development</strong>: structured documents that constrain and guide AI behavior. By treating context as a managed artifact alongside code, your repository becomes the single source of truth.</p>

            <div class="flow-diagram">
                <div class="flow-step">
                    <div class="flow-icon context">ğŸ“‹</div>
                    <div class="flow-label">Context</div>
                    <div class="flow-sublabel">Define the landscape</div>
                </div>
                <div class="flow-arrow">â†’</div>
                <div class="flow-step">
                    <div class="flow-icon spec">ğŸ“</div>
                    <div class="flow-label">Spec & Plan</div>
                    <div class="flow-sublabel">Document the approach</div>
                </div>
                <div class="flow-arrow">â†’</div>
                <div class="flow-step">
                    <div class="flow-icon" style="background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(139, 92, 246, 0.05)); border: 1px solid rgba(139, 92, 246, 0.3); color: #a78bfa;">ğŸ—ï¸</div>
                    <div class="flow-label">Decompose</div>
                    <div class="flow-sublabel">Module architecture</div>
                </div>
                <div class="flow-arrow">â†’</div>
                <div class="flow-step">
                    <div class="flow-icon implement">âš¡</div>
                    <div class="flow-label">Implement</div>
                    <div class="flow-sublabel">Execute with confidence</div>
                </div>
            </div>

            <h3>Step 1: Context â€” Why it exists</h3>
            <p>Without context, AI reinvents your project from scratch every session. It guesses your tech stack, ignores your conventions, and builds features that don't fit. <strong><code>/draft:init</code></strong> fixes this by creating persistent files that tell the AI who your users are (<code>product.md</code>), what technologies to use (<code>tech-stack.md</code>), and how your team works (<code>workflow.md</code>). For existing codebases, it also generates <code>architecture.md</code> â€” a deep system map with mermaid diagrams covering directory structure, entry points, data flows, design patterns, existing module dependencies, and external integrations. This means every future track gets immediate, rich context without re-analyzing the codebase. These files live in git, survive across sessions, and load automatically â€” so the AI always starts with your ground truth instead of assumptions.</p>

            <h3>Step 2: Spec & Plan â€” Why it exists</h3>
            <p>When you ask AI to "add authentication," it immediately writes code. If the approach is wrong, you discover it during code review â€” after hours of work. <strong><code>/draft:new-track</code></strong> forces the AI to write a specification and phased plan <em>before touching code</em>. You review the approach in a quick spec PR, not a massive code PR. Disagreements get resolved in a 5-minute document edit instead of a multi-hour rewrite. The plan breaks work into phases with verification steps, so the AI tackles one thing at a time instead of attempting everything at once.</p>

            <h3>Step 3: Decompose â€” Why it exists (optional)</h3>
            <p>For multi-module features, jumping straight to implementation creates tangled code with unclear boundaries. <strong><code>/draft:decompose</code></strong> maps your feature into discrete modules with defined responsibilities, API surfaces, and a dependency graph. This gives you an implementation order (build the database layer before the API layer) and prevents circular dependencies. Each module is small enough to reason about, test independently, and review in isolation.</p>

            <h3>Step 4: Implement â€” Why it exists</h3>
            <p>Even with a plan, AI can drift: skip tests, claim completion without proof, or make sweeping changes across unrelated files. <strong><code>/draft:implement</code></strong> executes one task at a time from the plan, follows the TDD cycle (write test first, then code, then refactor), runs a verification gate before marking anything complete, and triggers a two-stage review at phase boundaries. The AI can only work on what's specified, in the order specified, with proof required at every step.</p>

            <h3>Step 5: Verify Quality â€” Why it exists</h3>
            <p>Passing tests doesn't guarantee good code. AI can violate architectural patterns, introduce security vulnerabilities, or create performance bottlenecks â€” all while every test passes. <strong><code>/draft:coverage</code></strong> measures test completeness (95%+ target) and classifies uncovered lines. <strong><code>/draft:validate</code></strong> runs context-aware compliance checks: architecture conformance (patterns from architecture.md), security scans (hardcoded secrets, SQL injection, XSS), performance anti-patterns (N+1 queries, blocking I/O), and regression risk (blast radius of changes). <strong><code>/draft:bughunt</code></strong> goes deeper â€” exhaustive bug hunting across 12 dimensions (correctness, reliability, security, performance, concurrency, state management, API contracts, accessibility, and more) using Draft context to find architecture violations, spec non-compliance, and framework-specific issues. All three generate reports with file:line references and actionable fixes.</p>
        </section>

        <!-- Constraint Hierarchy -->
        <section id="constraints">
            <h2>The Constraint Hierarchy</h2>
            <p>Each document layer narrows the solution space. By the time AI writes code, most decisions are already made.</p>

            <div class="hierarchy">
                <div class="hierarchy-level">
                    <div class="num">1</div>
                    <div class="file">product.md</div>
                    <div class="desc">"Build a task manager for developers"</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num">2</div>
                    <div class="file">tech-stack.md</div>
                    <div class="desc">"Use React, TypeScript, Tailwind"</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num">3</div>
                    <div class="file">architecture.md</div>
                    <div class="desc">"Express API &rarr; Service layer &rarr; Prisma ORM &rarr; PostgreSQL"</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num">4</div>
                    <div class="file">spec.md</div>
                    <div class="desc">"Add drag-and-drop reordering"</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num">5</div>
                    <div class="file">plan.md</div>
                    <div class="desc">"Phase 1: sortable list, Phase 2: persistence"</div>
                </div>
            </div>

            <div class="callout">
                <div class="callout-title">
                    <span>ğŸ’¡</span>
                    Key Insight
                </div>
                <p>The AI becomes an executor of pre-approved work, not an autonomous decision-maker. Explicit specs, phased plans, verification steps, and status markers keep implementation focused and accountable.</p>
            </div>
        </section>

        <!-- Human Review -->
        <section id="review">
            <h2>Review Before Code</h2>
            <p><strong>This is Draft's most important feature.</strong> In traditional AI coding, you discover the AI's design decisions during code review â€” after it's already built the wrong thing. With Draft, the AI writes a spec first. You review the approach in a document, not a diff. Disagreements are resolved by editing a paragraph, not rewriting a module.</p>

            <div class="comparison">
                <div class="comparison-header">
                    <div>Traditional AI Coding</div>
                    <div>Draft Approach</div>
                </div>
                <div class="comparison-row">
                    <div>AI writes code immediately</div>
                    <div>AI writes spec first â€” you approve the approach</div>
                </div>
                <div class="comparison-row">
                    <div>Review happens on code PR (too late)</div>
                    <div>Review happens on spec PR (cheap to change)</div>
                </div>
                <div class="comparison-row">
                    <div>Disagreements require rewriting code</div>
                    <div>Disagreements resolved by editing a document</div>
                </div>
                <div class="comparison-row">
                    <div>AI decisions are implicit and buried in code</div>
                    <div>AI decisions are documented and git-tracked</div>
                </div>
            </div>

            <p><strong>Practical impact:</strong> Faster reviews (approve approach, not implementation details). Fewer rewrites (catch design issues before code exists). Knowledge transfer (specs document <em>why</em>, not just <em>what</em>). Onboarding (new team members read specs to understand features).</p>
        </section>

        <!-- Team Workflow -->
        <section id="team-workflow">
            <h2>Team Workflow: Alignment Before Code</h2>
            <p>Draft's most powerful application is team-wide: <strong>every markdown file goes through commit â†’ review â†’ update â†’ merge before a single line of code is written.</strong> By the time implementation starts, the entire team has already agreed on what to build, how to build it, and in what order.</p>

            <h3>The PR cycle on documents, not code</h3>
            <div class="hierarchy">
                <div class="hierarchy-level">
                    <div class="num">1</div>
                    <div class="file">product.md + tech-stack.md + architecture.md + workflow.md</div>
                    <div class="desc">Tech lead runs <code>/draft:init</code>. For brownfield projects, Draft performs deep architecture discovery â€” generating <code>architecture.md</code> with mermaid diagrams of system structure, data flows, and patterns. Team reviews project vision, technical choices, system architecture, and workflow preferences via PR. Product managers review <code>product.md</code> without reading code. Engineers review <code>architecture.md</code> and <code>tech-stack.md</code> without context-switching into implementation.</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num">2</div>
                    <div class="file">spec.md + plan.md</div>
                    <div class="desc">Lead runs <code>/draft:new-track</code>. Team reviews requirements, acceptance criteria, phased task breakdown, and dependencies via PR. Disagreements surface as markdown comments â€” resolved by editing a paragraph, not rewriting a module.</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num">3</div>
                    <div class="file">architecture.md</div>
                    <div class="desc">Lead runs <code>/draft:decompose</code>. Team reviews module boundaries, API surfaces, dependency graph, and implementation order via PR. Senior engineers validate the architecture without touching the codebase.</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num">4</div>
                    <div class="file">jira-export.md â†’ Jira stories</div>
                    <div class="desc">Lead runs <code>/draft:jira-preview</code> and <code>/draft:jira-create</code>. Epics, stories, and sub-tasks are created from the approved plan. Individual team members pick up Jira stories and implement â€” with or without Draft's <code>/draft:implement</code>.</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num">5</div>
                    <div class="file">Implementation + Verification</div>
                    <div class="desc">Only after all documents are merged does coding start. Every developer has full context: what to build (<code>spec.md</code>), in what order (<code>plan.md</code>), with what boundaries (<code>architecture.md</code>). After implementation, <code>/draft:coverage</code> verifies tests (95%+ target), <code>/draft:validate</code> checks compliance (architecture conformance, security, performance), and <code>/draft:bughunt</code> finds defects across 12 dimensions. All three generate reports in the track directory for PR review.</div>
                </div>
            </div>

            <h3>Why this changes how teams work</h3>
            <div class="comparison">
                <div class="comparison-header">
                    <div>Traditional AI Development</div>
                    <div>Draft Team Workflow</div>
                </div>
                <div class="comparison-row">
                    <div>Developer gets a Jira ticket and asks AI to build it</div>
                    <div>Developer gets a Jira ticket with linked spec, plan, and architecture already reviewed</div>
                </div>
                <div class="comparison-row">
                    <div>Each developer makes independent design decisions</div>
                    <div>Design decisions are made once in documents, reviewed by the team</div>
                </div>
                <div class="comparison-row">
                    <div>Integration problems surface during code review</div>
                    <div>Integration problems surface during architecture review â€” before any code exists</div>
                </div>
                <div class="comparison-row">
                    <div>New team members read code to understand features</div>
                    <div>New team members read <code>spec.md</code> and <code>plan.md</code> to understand features</div>
                </div>
            </div>

            <div class="callout">
                <div class="callout-title">
                    <span>ğŸ’¡</span>
                    Key Insight
                </div>
                <p>The CLI is single-user, but the artifacts it produces are the collaboration layer. Draft handles planning and decomposition. Git handles review. Jira handles distribution. <strong>Changing a sentence in spec.md takes seconds. Changing an architectural decision after 2,000 lines of code takes days.</strong></p>
            </div>
        </section>

        <!-- Project Structure -->
        <section id="structure">
            <h2>Project Structure</h2>
            <p>Draft uses a set of markdown files to capture project context, specifications, and implementation plans. Each file has a specific purpose.</p>

            <div class="doc-grid">
                <div class="doc-card">
                    <div class="icon">ğŸ¯</div>
                    <div class="name">product.md</div>
                    <p class="purpose">Product vision, target users, and success criteria</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ¨</div>
                    <div class="name">product-guidelines.md</div>
                    <p class="purpose">Style, branding, and UX standards</p>
                </div>
                <div class="doc-card">
                    <div class="icon">âš™ï¸</div>
                    <div class="name">tech-stack.md</div>
                    <p class="purpose">Languages, frameworks, and patterns</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ—ºï¸</div>
                    <div class="name">architecture.md</div>
                    <p class="purpose">System map, data flows, patterns, mermaid diagrams (brownfield)</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ”„</div>
                    <div class="name">workflow.md</div>
                    <p class="purpose">TDD preferences and commit strategy</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ«</div>
                    <div class="name">jira.md</div>
                    <p class="purpose">Jira project config for sync (optional)</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ“‹</div>
                    <div class="name">tracks.md</div>
                    <p class="purpose">Master list of all work tracks</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ“</div>
                    <div class="name">spec.md</div>
                    <p class="purpose">Requirements for a specific track</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ—ï¸</div>
                    <div class="name">track architecture.md</div>
                    <p class="purpose">Module decomposition and dependencies (optional)</p>
                </div>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="dot red"></div>
                    <div class="dot yellow"></div>
                    <div class="dot green"></div>
                    <span class="filename">project structure</span>
                </div>
<pre><code><span class="code-file">draft/</span>
â”œâ”€â”€ <span class="code-file">product.md</span>          <span class="code-comment"># Product vision and goals</span>
â”œâ”€â”€ <span class="code-file">tech-stack.md</span>       <span class="code-comment"># Technical choices</span>
â”œâ”€â”€ <span class="code-file">architecture.md</span>     <span class="code-comment"># System map + mermaid diagrams (brownfield)</span>
â”œâ”€â”€ <span class="code-file">workflow.md</span>         <span class="code-comment"># TDD, commit, validation, architecture mode</span>
â”œâ”€â”€ <span class="code-file">validation-report.md</span> <span class="code-comment"># Project-level quality checks (generated)</span>
â”œâ”€â”€ <span class="code-file">bughunt-report.md</span>    <span class="code-comment"># Project-level bug hunt findings (generated)</span>
â”œâ”€â”€ <span class="code-file">jira.md</span>             <span class="code-comment"># Jira project config (optional)</span>
â”œâ”€â”€ <span class="code-file">tracks.md</span>           <span class="code-comment"># Master track list</span>
â””â”€â”€ <span class="code-file">tracks/</span>
    â””â”€â”€ <span class="code-file">&lt;track-id&gt;/</span>
        â”œâ”€â”€ <span class="code-file">spec.md</span>      <span class="code-comment"># Requirements</span>
        â”œâ”€â”€ <span class="code-file">plan.md</span>      <span class="code-comment"># Phased task breakdown</span>
        â”œâ”€â”€ <span class="code-file">architecture.md</span> <span class="code-comment"># Track modules (optional)</span>
        â”œâ”€â”€ <span class="code-file">metadata.json</span>
        â”œâ”€â”€ <span class="code-file">validation-report.md</span> <span class="code-comment"># Quality checks (generated)</span>
        â”œâ”€â”€ <span class="code-file">bughunt-report.md</span> <span class="code-comment"># Bug hunt findings (generated)</span>
        â””â”€â”€ <span class="code-file">jira-export.md</span> <span class="code-comment"># Jira stories (optional)</span></code></pre>
            </div>
        </section>

        <!-- Status Markers -->
        <section id="status">
            <h2>Status Markers</h2>
            <p>Simple markers track progress throughout specs and plans. Progress is explicit, not assumed.</p>

            <div class="status-list">
                <div class="status-item">
                    <span class="status-marker pending">[ ]</span>
                    <span>Pending</span>
                </div>
                <div class="status-item">
                    <span class="status-marker progress">[~]</span>
                    <span>In Progress</span>
                </div>
                <div class="status-item">
                    <span class="status-marker complete">[x]</span>
                    <span>Completed</span>
                </div>
                <div class="status-item">
                    <span class="status-marker blocked">[!]</span>
                    <span>Blocked</span>
                </div>
            </div>

            <div class="callout">
                <div class="callout-title">
                    <span>âš ï¸</span>
                    Iron Law
                </div>
                <p><strong>Evidence before claims, always.</strong> Never mark [x] without running verification, confirming output shows success, and showing evidence in the response.</p>
            </div>
        </section>

        <!-- Jira Integration -->
        <section id="jira">
            <h2>Jira Integration</h2>
            <p>Sync tracks to Jira with a two-step workflow. Preview before pushing to catch issues early.</p>

            <div class="jira-flow">
                <div class="jira-step">
                    <div class="jira-num">1</div>
                    <div class="jira-content">
                        <h4>Preview</h4>
                        <p>Generate <code>jira-export.md</code> with epic and stories</p>
                    </div>
                </div>
                <div class="jira-step">
                    <div class="jira-num">2</div>
                    <div class="jira-content">
                        <h4>Review</h4>
                        <p>Adjust story points, descriptions, acceptance criteria</p>
                    </div>
                </div>
                <div class="jira-step">
                    <div class="jira-num">3</div>
                    <div class="jira-content">
                        <h4>Create</h4>
                        <p>Push to Jira via MCP server</p>
                    </div>
                </div>
            </div>

            <h3>Auto Story Points</h3>
            <p>Story points are calculated from task count:</p>
            <div class="points-grid">
                <div class="points-item"><span class="tasks">1-2 tasks</span><span class="points">1 pt</span></div>
                <div class="points-item"><span class="tasks">3-4 tasks</span><span class="points">2 pts</span></div>
                <div class="points-item"><span class="tasks">5-6 tasks</span><span class="points">3 pts</span></div>
                <div class="points-item"><span class="tasks">7+ tasks</span><span class="points">5 pts</span></div>
            </div>
        </section>

        <!-- TDD Workflow -->
        <section id="tdd">
            <h2>TDD Workflow</h2>
            <p>AI-generated code without tests is a liability â€” it works until it doesn't, and you have no safety net. When TDD is enabled in <code>workflow.md</code>, Draft forces the AI to <strong>prove its code works</strong> at every step.</p>

            <div class="tdd-flow">
                <div class="tdd-step red">ğŸ”´ Red</div>
                <div class="tdd-arrow">â†’</div>
                <div class="tdd-step green">ğŸŸ¢ Green</div>
                <div class="tdd-arrow">â†’</div>
                <div class="tdd-step refactor">ğŸ”µ Refactor</div>
                <div class="tdd-arrow">â†’</div>
                <div class="tdd-step commit">ğŸ“¦ Commit</div>
            </div>

            <div class="hierarchy">
                <div class="hierarchy-level">
                    <div class="num" style="background: rgba(251, 113, 133, 0.2); color: var(--accent-rose);">R</div>
                    <div class="file" style="color: var(--accent-rose);">Red â€” Write failing test</div>
                    <div class="desc">Define what "correct" means before any code exists. The test must fail with an assertion error (not a syntax error), proving it actually tests the requirement. This prevents the AI from writing tests that pass vacuously.</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num" style="background: rgba(52, 211, 153, 0.2); color: var(--accent-emerald);">G</div>
                    <div class="file" style="color: var(--accent-emerald);">Green â€” Minimum code to pass</div>
                    <div class="desc">Write the simplest implementation that makes the test pass. No extras, no "improvements," no abstractions for hypothetical futures. This prevents the AI from over-engineering â€” every line of code is justified by a failing test.</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num" style="background: rgba(34, 211, 238, 0.2); color: var(--accent-cyan);">R</div>
                    <div class="file" style="color: var(--accent-cyan);">Refactor â€” Clean with tests green</div>
                    <div class="desc">Improve code structure while tests stay green. Remove duplication, clarify naming, extract functions. The test suite acts as a safety net â€” if refactoring breaks anything, you know immediately.</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num" style="background: rgba(251, 191, 36, 0.2); color: var(--accent-amber);">C</div>
                    <div class="file" style="color: var(--accent-amber);">Commit â€” Following conventions</div>
                    <div class="desc">One task = one commit. The commit message follows project conventions (<code>feat(track-id): description</code>). Small, focused commits make reverts surgical and git blame useful.</div>
                </div>
            </div>

            <p><strong>Why this matters for engineers:</strong> Every completed task has a test proving it works. You can refactor with confidence, onboard new team members who read tests as documentation, and revert individual tasks without collateral damage. The AI can't claim "it should work" â€” it has to show evidence.</p>
        </section>

        <!-- Architecture Discovery -->
        <section id="architecture-discovery">
            <h2>Architecture Discovery</h2>
            <p>For brownfield projects, <code>/draft:init</code> doesn't just detect your tech stack â€” it performs a <strong>deep three-phase codebase analysis</strong> that generates <code>architecture.md</code>. This document becomes the persistent context every future track references, so the AI never has to re-analyze your codebase from scratch.</p>

            <h3>Why this exists</h3>
            <p>Without architecture discovery, every new track starts cold. The AI explores your codebase, builds a mental model, and starts working â€” then loses that understanding when the session ends. The next track starts the same exploration over again. Architecture discovery pays the analysis cost once during init, then every track, every question, and every implementation gets immediate, rich context about how your system actually works.</p>

            <h3>Phase 1: Orientation (The System Map)</h3>
            <p>Scans the codebase to produce a high-level system map with mermaid diagrams.</p>

            <div class="arch-features">
                <div class="arch-feature">
                    <div class="label">graph TD</div>
                    <h4>System Architecture</h4>
                    <p>Layered architecture diagram showing actual components â€” presentation, business logic, and data layers with real names from the codebase.</p>
                </div>
                <div class="arch-feature">
                    <div class="label">graph TD</div>
                    <h4>Directory Hierarchy</h4>
                    <p>Maps every top-level directory to its single responsibility and key files. Generates a tree diagram of the project structure.</p>
                </div>
                <div class="arch-feature">
                    <div class="label">table</div>
                    <h4>Entry Points</h4>
                    <p>Identifies all entry points: API routes, main loops, event listeners, CLI commands, serverless handlers. Critical paths through the system.</p>
                </div>
                <div class="arch-feature">
                    <div class="label">sequenceDiagram</div>
                    <h4>Request/Response Flow</h4>
                    <p>Traces one representative request through the full stack with actual file and class names â€” not generic placeholders.</p>
                </div>
                <div class="arch-feature">
                    <div class="label">table</div>
                    <h4>Tech Stack Inventory</h4>
                    <p>Cross-references detected dependencies with config files. Records language versions, framework versions, and where each is configured.</p>
                </div>
            </div>

            <h3>Phase 2: Logic (The "How" &amp; "Why")</h3>
            <p>Examines specific files and functions to understand business logic, data flows, and patterns.</p>

            <div class="arch-features">
                <div class="arch-feature">
                    <div class="label">flowchart LR</div>
                    <h4>Data Lifecycle</h4>
                    <p>Maps how 3-5 primary domain objects enter the system, where they're modified, and where they're persisted. Mermaid flowchart of the data pipeline.</p>
                </div>
                <div class="arch-feature">
                    <div class="label">table</div>
                    <h4>Design Patterns</h4>
                    <p>Identifies dominant patterns: Repository, Factory, Middleware, Observer, etc. Documents where each is used and why.</p>
                </div>
                <div class="arch-feature">
                    <div class="label">table</div>
                    <h4>Complexity Hotspots</h4>
                    <p>Flags god objects, circular dependencies, and high-complexity areas. Unclear business logic is marked "Unknown/Legacy Context Required" â€” never guessed.</p>
                </div>
                <div class="arch-feature">
                    <div class="label">table</div>
                    <h4>Conventions</h4>
                    <p>Extracts existing conventions: error handling, logging, naming, validation patterns. New code must respect these guardrails.</p>
                </div>
                <div class="arch-feature">
                    <div class="label">graph LR</div>
                    <h4>External Dependencies</h4>
                    <p>Maps external service integrations: auth providers, email services, storage, queues, third-party APIs. Mermaid diagram of all connections.</p>
                </div>
            </div>

            <h3>Phase 3: Module Discovery (Existing Modules)</h3>
            <p>Reverse-engineers the existing module structure from import graphs and directory boundaries. This is discovering <strong>what already exists</strong> â€” not planning new modules (that's <code>/draft:decompose</code>).</p>

            <div class="arch-features">
                <div class="arch-feature">
                    <div class="label">graph LR</div>
                    <h4>Module Dependencies</h4>
                    <p>Analyzes imports to build a dependency graph of existing modules. Detects circular dependencies. Mermaid diagram with actual module names.</p>
                </div>
                <div class="arch-feature">
                    <div class="label">table</div>
                    <h4>Module Inventory</h4>
                    <p>Each module documented with: responsibility, source files, exported API surface, dependencies, complexity rating, and a story summarizing what it does.</p>
                </div>
                <div class="arch-feature">
                    <div class="label">topological sort</div>
                    <h4>Dependency Order</h4>
                    <p>Topological ordering from leaf modules (foundational, no dependencies) to the most dependent. Shows which parts of the system are the foundation.</p>
                </div>
            </div>

            <div class="callout">
                <div class="callout-title">
                    <span>âš™ï¸</span>
                    Init vs Decompose
                </div>
                <p><code>/draft:init</code> discovers and documents <strong>existing</strong> modules (marked <code>[x] Existing</code>). <code>/draft:decompose</code> plans <strong>new</strong> modules for features or refactors. Both write to the same section of <code>architecture.md</code> â€” init sets the baseline, decompose extends it. Existing modules are never removed by decompose.</p>
            </div>

            <h3>Refresh Mode</h3>
            <p><code>/draft:init refresh</code> re-scans the codebase and diffs against the existing <code>architecture.md</code>. It detects new directories, removed components, changed integration points, new domain objects, and new or merged modules â€” then updates all mermaid diagrams and module documentation to reflect the current state. Changes are presented for review before writing.</p>

            <div class="callout">
                <div class="callout-title">
                    <span>ğŸ’¡</span>
                    Key Insight
                </div>
                <p><strong>Pay the analysis cost once, benefit on every track.</strong> Architecture discovery turns your codebase into a documented system that any AI assistant can understand instantly. Every <code>/draft:new-track</code> starts with full context: where things are, how they connect, what patterns to follow, and what to avoid.</p>
            </div>
        </section>

        <!-- Architecture Mode -->
        <section id="architecture">
            <h2>Architecture Mode</h2>
            <p>Standard Draft gives you specs and plans. Architecture Mode goes deeper â€” it forces the AI to <strong>design before it codes</strong>. Every module gets a dependency analysis. Every algorithm gets documented in plain language. Every function signature gets approved before implementation begins. This is how you build complex features without the AI creating a tangled mess.</p>

            <h3>Why Architecture Mode exists</h3>
            <p>When AI builds a multi-module feature, it makes ad-hoc decisions about module boundaries, function signatures, and data flow. These decisions compound â€” a bad interface choice in module A cascades through modules B, C, and D. By the time you notice, the entire implementation needs restructuring. Architecture Mode front-loads these decisions into reviewable checkpoints where changes cost minutes instead of hours.</p>

            <div class="arch-features">
                <div class="arch-feature">
                    <div class="label">/draft:decompose</div>
                    <h4>Module Decomposition</h4>
                    <p><strong>Problem:</strong> AI creates tangled code with unclear boundaries. <strong>Solution:</strong> Break the feature into 1-3 file modules with defined APIs, dependencies, and implementation order. You review the architecture before any code is written.</p>
                </div>
                <div class="arch-feature">
                    <div class="label">Step 2.5</div>
                    <h4>Algorithm Stories</h4>
                    <p><strong>Problem:</strong> AI jumps to code without understanding the algorithm. <strong>Solution:</strong> Write a natural-language Input â†’ Process â†’ Output description at the top of each file. You approve the algorithm before the AI writes a single line of implementation.</p>
                </div>
                <div class="arch-feature">
                    <div class="label">Step 3.0a</div>
                    <h4>Execution State</h4>
                    <p><strong>Problem:</strong> AI invents random variable names and data structures on the fly. <strong>Solution:</strong> Define all intermediate state variables (input, processing, output, error) before coding. You control the data model.</p>
                </div>
                <div class="arch-feature">
                    <div class="label">Step 3.0b</div>
                    <h4>Function Skeletons</h4>
                    <p><strong>Problem:</strong> AI creates functions with unclear signatures and unexpected interfaces. <strong>Solution:</strong> Generate stubs with complete types, parameters, and docstrings â€” no bodies. You approve function names and contracts before TDD begins.</p>
                </div>
                <div class="arch-feature">
                    <div class="label">~200 lines</div>
                    <h4>Chunk Reviews</h4>
                    <p><strong>Problem:</strong> AI dumps 500+ lines in one shot, making review impossible. <strong>Solution:</strong> Implementation is capped at ~200-line chunks with mandatory developer review after each. Every chunk is a reviewable, committable unit.</p>
                </div>
                <div class="arch-feature">
                    <div class="label">/draft:coverage</div>
                    <h4>Code Coverage</h4>
                    <p><strong>Problem:</strong> AI writes tests that look good but miss critical paths. <strong>Solution:</strong> Auto-detect your coverage tool, run it, classify every uncovered line (testable / defensive / infrastructure), and suggest specific tests for gaps.</p>
                </div>
            </div>

            <h3>How each checkpoint helps engineers</h3>

            <div class="hierarchy">
                <div class="hierarchy-level">
                    <div class="num" style="background: rgba(251, 191, 36, 0.2); color: var(--accent-amber);">1</div>
                    <div class="file" style="color: var(--accent-amber);">Story checkpoint</div>
                    <div class="desc">The AI writes a plain-language algorithm description: what goes in, what processing happens, what comes out. You review the logic before any code exists. If the approach is wrong, you fix it in English â€” not in a 200-line diff.</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num" style="background: rgba(251, 113, 133, 0.2); color: var(--accent-rose);">2</div>
                    <div class="file" style="color: var(--accent-rose);">Execution State checkpoint</div>
                    <div class="desc">The AI defines every intermediate variable: input state, processing state, output state, error state. You see the exact data model before implementation. Bad variable names, missing error states, or wrong data structures get caught here â€” not during debugging.</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num" style="background: rgba(34, 211, 238, 0.2); color: var(--accent-cyan);">3</div>
                    <div class="file" style="color: var(--accent-cyan);">Skeleton checkpoint</div>
                    <div class="desc">The AI generates function stubs with full type signatures, parameters, and docstrings â€” but no implementation bodies. You approve the public API, function names, and contracts. When TDD starts, the structure is locked; only the bodies get filled in.</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num" style="background: rgba(52, 211, 153, 0.2); color: var(--accent-emerald);">4</div>
                    <div class="file" style="color: var(--accent-emerald);">TDD + Chunk review</div>
                    <div class="desc">Implementation happens inside the pre-approved skeletons using TDD. If the diff exceeds ~200 lines, it stops for review. You never see a 500-line code dump â€” every chunk is small enough to read, understand, and approve.</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num" style="background: rgba(139, 92, 246, 0.2); color: #a78bfa;">5</div>
                    <div class="file" style="color: #a78bfa;">Coverage checkpoint</div>
                    <div class="desc">After implementation, <code>/draft:coverage</code> measures test quality. Every uncovered line is classified: testable (needs a test), defensive (acceptable), or infrastructure (acceptable). You decide what matters, not the AI.</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num" style="background: rgba(34, 211, 238, 0.2); color: var(--accent-cyan);">6</div>
                    <div class="file" style="color: var(--accent-cyan);">Validation checkpoint</div>
                    <div class="desc">After coverage verification, <code>/draft:validate</code> runs systematic quality checks using Draft context. Detects architecture violations (patterns from architecture.md), security issues (hardcoded secrets, SQL injection, XSS), performance anti-patterns (N+1 queries, blocking I/O), and regression risks (blast radius analysis). Generates <code>validation-report.md</code> with actionable fixes. Non-blocking by default â€” surfaces issues without halting progress.</div>
                </div>
            </div>

            <h3>Implementation Flow</h3>

            <div class="arch-flow">
                <div class="arch-flow-row">
                    <span class="arch-flow-step story">Story</span>
                    <span class="arch-flow-arrow">â†’</span>
                    <span class="arch-flow-checkpoint">checkpoint</span>
                    <span class="arch-flow-arrow">â†’</span>
                    <span class="arch-flow-step exec-state">Execution State</span>
                    <span class="arch-flow-arrow">â†’</span>
                    <span class="arch-flow-checkpoint">checkpoint</span>
                </div>
                <div class="arch-flow-row" style="padding-left: 1rem;">
                    <span class="arch-flow-arrow">â†’</span>
                    <span class="arch-flow-step skeleton">Skeletons</span>
                    <span class="arch-flow-arrow">â†’</span>
                    <span class="arch-flow-checkpoint">checkpoint</span>
                    <span class="arch-flow-arrow">â†’</span>
                    <span class="arch-flow-step tdd-ref">TDD (Red â†’ Green â†’ Refactor)</span>
                </div>
                <div class="arch-flow-row" style="padding-left: 1rem;">
                    <span class="arch-flow-arrow">â†’</span>
                    <span class="arch-flow-step coverage">/draft:coverage â†’ 95%+ target</span>
                    <span class="arch-flow-arrow">â†’</span>
                    <span class="arch-flow-step validate">/draft:validate â†’ compliance</span>
                    <span class="arch-flow-arrow">â†’</span>
                    <span class="arch-flow-step bughunt">/draft:bughunt â†’ defect discovery</span>
                </div>
            </div>

            <h3>The decomposition process</h3>
            <p>Before Architecture Mode's checkpoints activate, <code>/draft:decompose</code> maps your feature into modules. Here's what happens concretely:</p>

            <div class="hierarchy">
                <div class="hierarchy-level">
                    <div class="num">1</div>
                    <div class="file">Scan</div>
                    <div class="desc">Analyze your codebase: directory structure, entry points, existing module boundaries, import patterns. For new projects, work from the spec.</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num">2</div>
                    <div class="file">Propose modules</div>
                    <div class="desc">Each module gets: name, single responsibility, 1-3 files, public API surface with typed signatures, dependencies on other modules, and complexity rating. You review and modify.</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num">3</div>
                    <div class="file">Map dependencies</div>
                    <div class="desc">Generate a dependency graph with ASCII diagram. Detect circular dependencies and propose fixes (extract shared interface, invert dependency, or merge modules). You review the graph.</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num">4</div>
                    <div class="file">Order implementation</div>
                    <div class="desc">Topological sort determines build order: implement leaf modules first (no dependencies), then dependents. Identifies which modules can be built in parallel.</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num">5</div>
                    <div class="file">Generate architecture.md</div>
                    <div class="desc">All of the above is written to a reviewable markdown file with module definitions, dependency diagram, implementation order, and story placeholders for each module.</div>
                </div>
            </div>

            <div class="callout">
                <div class="callout-title">
                    <span>âš™ï¸</span>
                    Opt-In
                </div>
                <p>Architecture Mode is optional. Simple features, bug fixes, and config changes use the standard Draft workflow. Enable it when module boundaries, algorithm design, and coverage measurement add value. <strong>Good fit:</strong> multi-module features, new projects, complex algorithms, teams wanting maximum review granularity. <strong>Overkill:</strong> simple features touching 1-2 files, bug fixes with clear scope, configuration changes.</p>
            </div>
        </section>

        <!-- Revert Workflow -->
        <section id="revert">
            <h2>Revert Workflow</h2>
            <p>AI makes mistakes. When it does, you need to undo cleanly â€” not just <code>git reset --hard</code> and lose everything. Draft's revert understands the logical structure of your work. It knows which commits belong to which task, which tasks belong to which phase, and it updates both git history and Draft's tracking state together. You pick the granularity, review what will change, and confirm before anything happens.</p>

            <div class="flow-diagram">
                <div class="flow-step">
                    <div class="flow-icon" style="background: linear-gradient(135deg, rgba(251, 113, 133, 0.2), rgba(251, 113, 133, 0.05)); border: 1px solid rgba(251, 113, 133, 0.3); color: var(--accent-rose);">1</div>
                    <div class="flow-label">Task</div>
                    <div class="flow-sublabel">Single task's commits</div>
                </div>
                <div class="flow-step">
                    <div class="flow-icon" style="background: linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(251, 191, 36, 0.05)); border: 1px solid rgba(251, 191, 36, 0.3); color: var(--accent-amber);">2</div>
                    <div class="flow-label">Phase</div>
                    <div class="flow-sublabel">All commits in a phase</div>
                </div>
                <div class="flow-step">
                    <div class="flow-icon" style="background: linear-gradient(135deg, rgba(34, 211, 238, 0.2), rgba(34, 211, 238, 0.05)); border: 1px solid rgba(34, 211, 238, 0.3); color: var(--accent-cyan);">3</div>
                    <div class="flow-label">Track</div>
                    <div class="flow-sublabel">Entire track's commits</div>
                </div>
            </div>

            <div class="hierarchy">
                <div class="hierarchy-level">
                    <div class="num">1</div>
                    <div class="file">Preview</div>
                    <div class="desc">Show commits, affected files, and plan.md changes before executing</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num">2</div>
                    <div class="file">Confirm</div>
                    <div class="desc">Explicit user confirmation required â€” no silent reverts</div>
                </div>
                <div class="hierarchy-level">
                    <div class="num">3</div>
                    <div class="file">Execute</div>
                    <div class="desc">Git revert (newest first) + single revert commit + Draft state update</div>
                </div>
            </div>
        </section>

        <!-- Quality Disciplines -->
        <section id="quality">
            <h2>Quality Disciplines</h2>
            <p>AI's default failure mode is to guess at fixes, skip verification, and claim success. Draft embeds three quality agents directly into the workflow â€” they activate automatically at the right moments and enforce disciplined engineering practices.</p>

            <h3>Systematic Debugging</h3>
            <p><strong>The problem:</strong> When AI hits an error, it tries random changes hoping something sticks. Each "fix" often introduces new bugs. <strong>The solution:</strong> When a task is blocked (<code>[!]</code>), the Debugger Agent enforces a four-phase process that mirrors how senior engineers actually debug â€” understand first, then fix.</p>

            <div class="flow-diagram">
                <div class="flow-step">
                    <div class="flow-icon" style="background: linear-gradient(135deg, rgba(34, 211, 238, 0.2), rgba(34, 211, 238, 0.05)); border: 1px solid rgba(34, 211, 238, 0.3); color: var(--accent-cyan);">1</div>
                    <div class="flow-label">Investigate</div>
                    <div class="flow-sublabel">Read errors, reproduce</div>
                </div>
                <div class="flow-arrow">â†’</div>
                <div class="flow-step">
                    <div class="flow-icon" style="background: linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(251, 191, 36, 0.05)); border: 1px solid rgba(251, 191, 36, 0.3); color: var(--accent-amber);">2</div>
                    <div class="flow-label">Analyze</div>
                    <div class="flow-sublabel">Find root cause</div>
                </div>
                <div class="flow-arrow">â†’</div>
                <div class="flow-step">
                    <div class="flow-icon" style="background: linear-gradient(135deg, rgba(251, 113, 133, 0.2), rgba(251, 113, 133, 0.05)); border: 1px solid rgba(251, 113, 133, 0.3); color: var(--accent-rose);">3</div>
                    <div class="flow-label">Hypothesize</div>
                    <div class="flow-sublabel">Smallest possible test</div>
                </div>
                <div class="flow-arrow">â†’</div>
                <div class="flow-step">
                    <div class="flow-icon implement">4</div>
                    <div class="flow-label">Implement</div>
                    <div class="flow-sublabel">Regression test + fix</div>
                </div>
            </div>

            <p><strong>Why this matters:</strong> After 3 failed hypothesis cycles, the agent escalates to you with everything it has learned and eliminated â€” no more silent spirals of random attempts. Root cause is documented in plan.md, so the team learns from every bug.</p>

            <h3>Two-Stage Review</h3>
            <p><strong>The problem:</strong> AI happily moves on to the next phase even if it missed requirements or wrote poor code. <strong>The solution:</strong> At every phase boundary, the Reviewer Agent runs two sequential checks. Stage 1 catches what's missing. Stage 2 catches what's messy. Only when both pass does the work proceed.</p>

            <div class="comparison">
                <div class="comparison-header">
                    <div>Stage 1: Spec Compliance</div>
                    <div>Stage 2: Code Quality</div>
                </div>
                <div class="comparison-row">
                    <div>All functional requirements implemented?</div>
                    <div>Follows project patterns from tech-stack.md?</div>
                </div>
                <div class="comparison-row">
                    <div>Acceptance criteria met?</div>
                    <div>Appropriate error handling?</div>
                </div>
                <div class="comparison-row">
                    <div>No scope creep or missing features?</div>
                    <div>Tests cover real logic, not implementation details?</div>
                </div>
                <div class="comparison-row">
                    <div>Edge cases and error scenarios handled?</div>
                    <div>Issues classified: Critical &gt; Important &gt; Minor</div>
                </div>
            </div>

            <p><strong>Why this matters:</strong> Critical issues (broken functionality, security vulnerabilities) must be fixed before proceeding â€” no exceptions. Important issues should be fixed. Minor issues are noted but don't block. This prevents both perfectionism paralysis and quality erosion.</p>

            <h3>Code Coverage</h3>
            <p><strong>The problem:</strong> TDD ensures you write tests, but doesn't guarantee those tests are comprehensive. You can have 100% of your tests passing while 40% of your code is untested. <strong>The solution:</strong> <code>/draft:coverage</code> runs your project's coverage tool and classifies every uncovered line, so you know exactly what's tested, what's not, and whether that matters.</p>

            <div class="doc-grid" style="grid-template-columns: repeat(3, 1fr);">
                <div class="doc-card">
                    <div class="icon">âœ…</div>
                    <div class="name">Testable</div>
                    <p class="purpose">Should be covered. Suggests specific tests to write.</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ›¡ï¸</div>
                    <div class="name">Defensive</div>
                    <p class="purpose">Error handlers for impossible states. Acceptable to leave.</p>
                </div>
                <div class="doc-card">
                    <div class="icon">âš™ï¸</div>
                    <div class="name">Infrastructure</div>
                    <p class="purpose">Framework boilerplate and entry points. Acceptable.</p>
                </div>
            </div>

            <h3>Systematic Validation</h3>
            <p><strong>The problem:</strong> AI can pass all tests while violating architectural patterns, introducing security vulnerabilities, or creating performance bottlenecks. Tests measure "does it work" but not "is it good." <strong>The solution:</strong> <code>/draft:validate</code> uses Draft context (architecture.md, tech-stack.md) to catch quality issues tests miss â€” architecture violations, hardcoded secrets, N+1 queries, missing input validation, and more.</p>

            <div class="doc-grid" style="grid-template-columns: repeat(4, 1fr);">
                <div class="doc-card">
                    <div class="icon">ğŸ—ï¸</div>
                    <div class="name">Architecture</div>
                    <p class="purpose">Pattern violations, layer boundaries, dependency rules</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ”’</div>
                    <div class="name">Security</div>
                    <p class="purpose">Hardcoded secrets, SQL injection, XSS, weak hashing</p>
                </div>
                <div class="doc-card">
                    <div class="icon">âš¡</div>
                    <div class="name">Performance</div>
                    <p class="purpose">N+1 queries, blocking I/O, missing pagination</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ“‹</div>
                    <div class="name">Regression</div>
                    <p class="purpose">Blast radius analysis, critical path detection</p>
                </div>
            </div>

            <p><strong>Why this matters:</strong> Validation runs automatically at track completion (configurable in workflow.md). Non-blocking by default â€” issues documented in <code>validation-report.md</code> with file:line references and remediation guidance. Complements coverage (quantitative test metrics) with qualitative codebase health checks.</p>

            <h3>Exhaustive Bug Hunt</h3>
            <p><strong>The problem:</strong> Validation checks compliance with declared architecture. But real bugs â€” logic errors, race conditions, security vulnerabilities, accessibility issues â€” require deeper analysis across multiple dimensions. <strong>The solution:</strong> <code>/draft:bughunt</code> performs exhaustive defect discovery across 12 analysis dimensions, enhanced by Draft context when available.</p>

            <div class="doc-grid" style="grid-template-columns: repeat(4, 1fr);">
                <div class="doc-card">
                    <div class="icon">ğŸ¯</div>
                    <div class="name">Correctness</div>
                    <p class="purpose">Logic errors, edge cases, invalid assumptions, state bugs</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ”„</div>
                    <div class="name">Concurrency</div>
                    <p class="purpose">Race conditions, stale responses, ordering issues</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ”</div>
                    <div class="name">Security</div>
                    <p class="purpose">XSS, injection, auth bypass, secrets exposure</p>
                </div>
                <div class="doc-card">
                    <div class="icon">âš¡</div>
                    <div class="name">Performance</div>
                    <p class="purpose">N+1 queries, blocking I/O, memory leaks, re-renders</p>
                </div>
                <div class="doc-card">
                    <div class="icon">â™¿</div>
                    <div class="name">Accessibility</div>
                    <p class="purpose">Keyboard nav, focus management, ARIA, screen readers</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ“Š</div>
                    <div class="name">State</div>
                    <p class="purpose">Source-of-truth violations, derived state bugs, leaks</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ”Œ</div>
                    <div class="name">API Contracts</div>
                    <p class="purpose">Schema drift, weak typing, missing validation</p>
                </div>
                <div class="doc-card">
                    <div class="icon">ğŸ§ª</div>
                    <div class="name">Tests</div>
                    <p class="purpose">Coverage gaps, snapshot misuse, flaky tests</p>
                </div>
            </div>

            <p><strong>Why this matters:</strong> Unlike validate (which checks compliance), bughunt discovers defects. Run it project-wide for full codebase analysis, or use <code>--track &lt;id&gt;</code> to focus on a specific feature. When Draft context exists, bughunt uses architecture.md to flag module boundary violations, tech-stack.md for framework-specific anti-patterns, and spec.md/plan.md to verify implementation matches requirements. Findings are severity-ranked (Critical/High/Medium/Low) with file:line locations and minimal fix recommendations in <code>bughunt-report.md</code>.</p>
        </section>

        <!-- Economics -->
        <section id="economics">
            <h2>The Economics</h2>
            <p>Writing specs feels slower. It isn't. The overhead is constant (~20% for simple tasks), but savings scale with complexity, team size, and criticality.</p>

            <div class="economics">
                <div class="economics-row header">
                    <div>Scenario</div>
                    <div>Without Spec</div>
                    <div>With Spec</div>
                </div>
                <div class="economics-row">
                    <div>Simple feature</div>
                    <div>1 hour</div>
                    <div>1.2 hours</div>
                </div>
                <div class="economics-row">
                    <div>Feature with ambiguity</div>
                    <div>3 hours + rework</div>
                    <div>2 hours</div>
                </div>
                <div class="economics-row">
                    <div>Feature requiring team input</div>
                    <div>5 hours + meetings</div>
                    <div>2.5 hours</div>
                </div>
                <div class="economics-row">
                    <div>Wrong feature entirely</div>
                    <div>Days wasted</div>
                    <div>Caught in review</div>
                </div>
            </div>

            <p><strong>For critical product development, Draft isn't overhead â€” it's risk mitigation.</strong></p>
        </section>

        <!-- Principles -->
        <section id="principles">
            <h2>Core Principles</h2>

            <div class="principles">
                <div class="principle">
                    <div class="principle-num">1</div>
                    <div class="principle-content">
                        <h4>Plan before you build</h4>
                        <p>Create specs and plans that guide development before writing code</p>
                    </div>
                </div>
                <div class="principle">
                    <div class="principle-num">2</div>
                    <div class="principle-content">
                        <h4>Maintain context</h4>
                        <p>Ensure agents follow style guides and product goals consistently</p>
                    </div>
                </div>
                <div class="principle">
                    <div class="principle-num">3</div>
                    <div class="principle-content">
                        <h4>Iterate safely</h4>
                        <p>Review plans before code is written, catch issues early</p>
                    </div>
                </div>
                <div class="principle">
                    <div class="principle-num">4</div>
                    <div class="principle-content">
                        <h4>Work as a team</h4>
                        <p>Share project context across team members through git-tracked specs</p>
                    </div>
                </div>
                <div class="principle">
                    <div class="principle-num">5</div>
                    <div class="principle-content">
                        <h4>Verify before claiming</h4>
                        <p>Evidence before assertions, always â€” run tests, show proof</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- When to Use -->
        <section id="when">
            <h2>When to Use Draft</h2>

            <h3>Good fit</h3>
            <div class="problem-grid">
                <div class="problem-card" style="border-color: rgba(52, 211, 153, 0.3);">
                    <div class="icon">ğŸ—ï¸</div>
                    <h4>Design Decisions</h4>
                    <p>Features requiring architecture choices, API design, or data model decisions</p>
                </div>
                <div class="problem-card" style="border-color: rgba(52, 211, 153, 0.3);">
                    <div class="icon">ğŸ‘¥</div>
                    <h4>Team Review</h4>
                    <p>Work that will be reviewed by others â€” specs are faster to review than code</p>
                </div>
                <div class="problem-card" style="border-color: rgba(52, 211, 153, 0.3);">
                    <div class="icon">ğŸ“¦</div>
                    <h4>Multi-Step Work</h4>
                    <p>Complex implementations spanning multiple files, modules, or phases</p>
                </div>
                <div class="problem-card" style="border-color: rgba(52, 211, 153, 0.3);">
                    <div class="icon">ğŸ”</div>
                    <h4>Repeated Failures</h4>
                    <p>Anything where "just do it" has resulted in rework or misalignment</p>
                </div>
            </div>

            <h3>Overkill</h3>
            <p>One-line bug fixes, typo corrections, exploratory prototypes you'll throw away, simple config changes.</p>

            <h3>Constraint Mechanisms</h3>
            <p>How Draft keeps AI focused and accountable:</p>

            <div class="economics">
                <div class="economics-row header">
                    <div>Mechanism</div>
                    <div>Effect</div>
                    <div>Prevents</div>
                </div>
                <div class="economics-row">
                    <div>Explicit spec</div>
                    <div>AI only implements what's documented</div>
                    <div>Scope creep</div>
                </div>
                <div class="economics-row">
                    <div>Phased plans</div>
                    <div>AI works on one phase at a time</div>
                    <div>Over-engineering</div>
                </div>
                <div class="economics-row">
                    <div>Verification steps</div>
                    <div>Each phase requires proof of completion</div>
                    <div>False claims</div>
                </div>
                <div class="economics-row">
                    <div>Status markers</div>
                    <div>Progress is tracked, not assumed</div>
                    <div>Lost context</div>
                </div>
                <div class="economics-row">
                    <div>Two-stage review</div>
                    <div>Spec compliance before code quality</div>
                    <div>Quality gaps</div>
                </div>
                <div class="economics-row">
                    <div>Validation checks</div>
                    <div>Context-aware quality validation (architecture, security, performance)</div>
                    <div>Pattern violations, vulnerabilities, tech debt</div>
                </div>
            </div>

            <div class="callout">
                <div class="callout-title">
                    <span>ğŸ“Œ</span>
                    Remember
                </div>
                <p>Draft adds structure. Use it when structure has value. The AI becomes an executor of pre-approved work, not an autonomous decision-maker.</p>
            </div>
        </section>
    </main>

    <footer>
        <p>Draft Methodology â€” <a href="https://github.com/mayurpise/draft" target="_blank" rel="noopener noreferrer">View on GitHub</a></p>
        <div class="footer-actions">
            <a href="https://buymeacoffee.com/mayurpise" target="_blank" class="bmc-btn">â˜• Buy Me a Coffee</a>
            <div class="share-row">
                <span class="share-label">Share</span>
                <a href="https://api.whatsapp.com/send?text=Draft%20%E2%80%93%20Context-Driven%20Development%20for%20AI-assisted%20coding%20https%3A%2F%2Fgetdraft.dev" target="_blank" rel="noopener noreferrer" class="share-btn whatsapp" title="Share on WhatsApp">
                    <svg viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                </a>
                <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fgetdraft.dev" target="_blank" rel="noopener noreferrer" class="share-btn linkedin" title="Share on LinkedIn">
                    <svg viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
                </a>
                <a href="https://reddit.com/submit?url=https%3A%2F%2Fgetdraft.dev&title=Draft%20%E2%80%93%20Context-Driven%20Development%20for%20AI-assisted%20coding" target="_blank" rel="noopener noreferrer" class="share-btn reddit" title="Share on Reddit">
                    <svg viewBox="0 0 24 24"><path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/></svg>
                </a>
                <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fgetdraft.dev&text=Draft%20%E2%80%93%20Context-Driven%20Development%20for%20AI-assisted%20coding" target="_blank" rel="noopener noreferrer" class="share-btn x" title="Share on X">
                    <svg viewBox="0 0 24 24"><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"/></svg>
                </a>
            </div>
        </div>
    </footer>
</body>
</html>

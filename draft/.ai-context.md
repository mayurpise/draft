---
project: "draft"
module: "root"
generated_by: "draft:init"
generated_at: "2026-02-15T00:45:00Z"
git:
  branch: "main"
  remote: "origin/main"
  commit: "1195da8278db7a518434910765076d358dbcf420"
  commit_short: "1195da8"
  commit_date: "2026-02-14 17:43:01 -0800"
  commit_message: "feat(skills): add YAML frontmatter to decompose, index, jira-preview"
  dirty: true
synced_to_commit: "1195da8278db7a518434910765076d358dbcf420"
---

# draft

## META
type: plugin
lang: Markdown + YAML + Bash
pattern: Document-driven (no runtime)
build: ./scripts/build-integrations.sh
test: Manual CLI invocation
entry: .claude-plugin/plugin.json -> skills/*/SKILL.md
config: YAML frontmatter@skills/*/SKILL.md
version: 1.3.0

## GRAPH:COMPONENTS
Plugin
  ├─manifest: .claude-plugin/plugin.json
  ├─skills/: 15 slash commands
  │   ├─draft: methodology overview
  │   ├─init: project discovery, context generation
  │   ├─new-track: create feature/bug track
  │   ├─implement: TDD task execution
  │   ├─review: two-stage code review
  │   ├─validate: quality validation
  │   ├─bughunt: exhaustive bug hunting
  │   ├─status: progress reporting
  │   ├─revert: git-aware rollback
  │   ├─coverage: code coverage analysis
  │   ├─decompose: module decomposition
  │   ├─adr: architecture decision records
  │   ├─index: monorepo aggregation
  │   ├─jira-preview: generate Jira export
  │   └─jira-create: create Jira issues via MCP
  └─core/
      ├─methodology.md: master spec (10k+ lines)
      ├─knowledge-base.md: architectural guidance
      ├─agents/: 5 specialized behaviors
      │   ├─architect: module design
      │   ├─reviewer: two-stage review
      │   ├─debugger: systematic debugging
      │   ├─planner: task breakdown
      │   └─rca: root cause analysis
      └─templates/: 14 file templates

## GRAPH:DEPENDENCIES
skills/* --> core/methodology.md
skills/* --> core/templates/*
skills/review --> core/agents/reviewer.md
skills/implement --> core/agents/debugger.md
skills/decompose --> core/agents/architect.md
skills/review --> skills/validate
skills/review --> skills/bughunt
scripts/build-integrations.sh --> skills/*
scripts/build-integrations.sh --> integrations/*

## GRAPH:DATAFLOW
FLOW:INIT
  /draft:init --> ScanCodebase --> DetectStack --> 5PhaseAnalysis --> architecture.md --> .ai-context.md --> product.md --> tech-stack.md --> workflow.md --> tracks.md
FLOW:TRACK
  /draft:new-track --> IntakeQuestions --> LoadContext(product,tech,arch) --> spec.md --> plan.md --> metadata.json --> tracks.md
FLOW:IMPLEMENT
  /draft:implement --> LoadPlan --> RED(test) --> GREEN(impl) --> REFACTOR --> UpdatePlan --> Loop
FLOW:REVIEW
  /draft:review --> LoadSpec --> Stage1(compliance) --> Stage2(quality) --> validate --> bughunt --> Report

## WIRING
mechanism: markdown_include
pattern: Skills reference core resources via prose instructions
tokens: [core/methodology.md, core/templates/*, core/agents/*]
getters: ["Use template from", "Follow behavior in"]

## INVARIANTS
[DATA] constraint_hierarchy: product.md -> tech-stack.md -> architecture.md -> spec.md -> plan.md @all_skills
[DATA] frontmatter_required: SKILL.md needs name + description in YAML @skills/*/SKILL.md
[DATA] synced_commit: synced_to_commit tracks last analyzed commit @draft/architecture.md
[ORD] build_after_change: run build-integrations.sh after skill edits @scripts/build-integrations.sh
[COMPAT] skill_body_format: body starts with # Title + blank line @scripts/build-integrations.sh:466

## INTERFACES
```yaml
# Skill frontmatter schema
---
name: string!      # slash command name
description: string!  # shown in /help
---
```

## CATALOG:SKILLS
draft|overview|skills/draft/SKILL.md|methodology overview
init|setup|skills/init/SKILL.md|project discovery
new-track|planning|skills/new-track/SKILL.md|track creation
implement|execution|skills/implement/SKILL.md|TDD implementation
review|quality|skills/review/SKILL.md|two-stage review
validate|quality|skills/validate/SKILL.md|codebase validation
bughunt|quality|skills/bughunt/SKILL.md|bug hunting
status|reporting|skills/status/SKILL.md|progress display
revert|git|skills/revert/SKILL.md|rollback work
coverage|testing|skills/coverage/SKILL.md|coverage analysis
decompose|architecture|skills/decompose/SKILL.md|module decomposition
adr|architecture|skills/adr/SKILL.md|decision records
index|monorepo|skills/index/SKILL.md|service aggregation
jira-preview|integration|skills/jira-preview/SKILL.md|Jira export
jira-create|integration|skills/jira-create/SKILL.md|Jira API

## CATALOG:AGENTS
architect|core/agents/architect.md|module design, dependency analysis
reviewer|core/agents/reviewer.md|spec compliance + code quality
debugger|core/agents/debugger.md|systematic debugging
planner|core/agents/planner.md|task breakdown, phasing
rca|core/agents/rca.md|root cause analysis

## CATALOG:TEMPLATES
ai-context|core/templates/ai-context.md|init
architecture|core/templates/architecture.md|init,decompose
product|core/templates/product.md|init
tech-stack|core/templates/tech-stack.md|init
workflow|core/templates/workflow.md|init
spec|core/templates/spec.md|new-track
intake-questions|core/templates/intake-questions.md|new-track
jira|core/templates/jira.md|jira-preview
dependency-graph|core/templates/dependency-graph.md|decompose
root-architecture|core/templates/root-architecture.md|index
root-product|core/templates/root-product.md|index
root-tech-stack|core/templates/root-tech-stack.md|index
service-index|core/templates/service-index.md|index
tech-matrix|core/templates/tech-matrix.md|index

## THREADS
N/A|single-threaded|LLM sequential instruction interpretation

## CONFIG
name|draft|plugin.json|plugin identifier
version|1.3.0|plugin.json|semantic version
tdd_mode|strict/flexible/none|workflow.md|test-first discipline
auto_validate|true/false|workflow.md|validation on completion
commit_strategy|atomic/batch|workflow.md|commit frequency

## ERRORS
missing_draft: Run /draft:init
missing_track: Check tracks.md, verify ID
build_fails: Check SKILL.md frontmatter format
git_not_init: Initialize git repository

## CONCURRENCY
execution: single-threaded LLM interpretation -> N/A
filesystem: one implementation session per track -> conflicts on concurrent edits

## EXTEND:SKILL
create: skills/<name>/SKILL.md
implement: YAML frontmatter + markdown body
required: [name, description]
optional: []
register: auto-discovery from skills/ directory
deps: []
test: invoke /draft:<name> in Claude Code CLI

## EXTEND:TEMPLATE
create: core/templates/<name>.md
implement: markdown with placeholder sections
required: []
optional: []
register: reference from skills
deps: []
test: invoke skill that uses template

## EXTEND:AGENT
create: core/agents/<name>.md
implement: markdown behavior specification
required: []
optional: []
register: reference from skills via prose
deps: []
test: invoke skill that delegates to agent

## TEST
unit: N/A
integration: tests/test-build.sh (build output validation)
manual: invoke each /draft:* command

## FILES
entry: .claude-plugin/plugin.json
manifest: .claude-plugin/plugin.json
skills: skills/*/SKILL.md
agents: core/agents/*.md
templates: core/templates/*.md
methodology: core/methodology.md
knowledge: core/knowledge-base.md
build: scripts/build-integrations.sh
output: integrations/copilot/.github/copilot-instructions.md, integrations/gemini/GEMINI.md

## VOCAB
brownfield: existing codebase with structure
greenfield: new project, minimal code
constraint_hierarchy: product -> tech-stack -> architecture -> spec -> plan
skill: slash command in skills/*/SKILL.md
track: feature/bug unit (spec.md, plan.md, metadata.json)
TDD: RED -> GREEN -> REFACTOR
two_stage_review: spec compliance then code quality
intake: structured questions for track creation
monorepo: multi-service repository

## REFS
tech_stack: draft/tech-stack.md
workflow: draft/workflow.md
product: draft/product.md
architecture: draft/architecture.md
